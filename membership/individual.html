<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membership - Dablie Foundation</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="./form.css">
    <link rel="stylesheet" href="../Header & Footer/header.css">
    <link rel="stylesheet" href="../Header & Footer/footer.css">
    <link rel="icon" type="image/x-icon" href="./HomePage/images/Dablie_logo.png">
</head>
<body>
    <header>
        <div class="logo">
            <a href="../index.html"><img src="../leadership page/assests/images/logo.png"
                    alt="Dablie Foundation Logo"></a>
        </div>
        <div class="logo2">
            <a href="../index.html"><img src="../leadership page/assests/images/logo2.png"
                    alt="Dablie Foundation Logo"></a>
        </div>
        <nav class="navbar">
            <ul>
                <li><a href="#">About <i class="fa fa-chevron-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="../about-us/">About us</a></li>
                        <li><a href="../our-mission/ ">Our mission</a>
                        <li><a href="../our-story/ ">Our story</a></li>
                    </ul>
                </li>
                <li><a href="#">Our Program <i class="fa fa-chevron-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="../leadership/ ">Leadership Program</a></li>
                        <li><a href="../scholarships/ ">Scholarship Program</a></li>
                        <li><a href="../economic-empowerment/ ">Economic Empowerment</a></li>
                        <li><a href="../business/">Dablie Business Forum</a></li>
                        <!-- <li><a href="../partners">Partners Directory</a></li> -->
                        <li><a href="../youth/">Youth Program</a></li>
                        <li><a href="../other/ ">Other Programs</a></li>
                    </ul>
                </li>
                <li><a href="../events/ ">Events</a></li>
                <li><a href="../stories/">Stories</a></li>
            </ul>
        </nav>
        <div class="join-us-button">
            <a href="../membership/ ">Join <img src="../HomePage/images/hands.png" alt="Hand Icon"
                    class="icon"> </a>
        </div>
        <!-- Donate Button -->
<div class="donate-button">
    <a href="#" id="openModalBtn">Donate <img src="../HomePage/images/heart.png" alt="heart Icon" class="icon-2"></a>
</div>

<!-- The Modal -->
<!--  
<div id="donationModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <div id="modalBody">Loading...</div>
  </div>
</div> -->

        <div class="hamburger-menu-container">
            <div class="menu-wrapper">
                <p class="menu-btn"></p>
                <p class="menu-btn-middle"></p> <!-- Added middle line -->
            </div>
        </div>
    </header>
    <nav class="menu-overlay">
        <ul class="main-menu">
            <li><a href="#" class="submenu-toggle about-toggle">About<span class="icon-container marginit"><i 
                class="fa-solid fa-chevron-right"></i></span></a></li>
            <li><a href="#" class="submenu-toggle programs-toggle">Programs<span class="icon-container marginit"><i
                class="fa-solid fa-chevron-right"></i></span></a></li>
            <li><a href="../events/ ">Events</a></li>
            <li><a href="../stories/">Stories</a></li>
            <li class="buttons-container">
                <div class="join-us-button1"><a href="../membership/ ">Join <img
                            src="../HomePage/images/hands.png" alt="Hand Icon" class="icon"></a></div>
                <div class="button"><a href="https://chapa.link/donation/view/DN-VH06Xca2dDRW">Donate <img
                            src="../HomePage/images/heart.png" alt="heart Icon" class="icon-2"> </a></div>
            </li>
        </ul>
        <ul class="submenu programs-submenu">
            <li><a href="#" class="back-to-main-menu"><i
                        class="fa-solid fa-chevron-left style"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Our Programs</a></li>
            <li><a href="../leadership/ ">Leadership Program</a></li>
            <li><a href="../scholarships/ ">Scholarship Program</a></li>
            <li><a href="../economic-empowerment/ ">Economic Empowerment</a></li>
            <li><a href="../business/">Dablie Business Forum</a></li>
            <li><a href="../youth/">Youth Program</a></li>
            <li><a href="../other/ ">Other Programs</a></li>
        </ul>
        <ul class="submenu about-submenu">
            <li><a href="#" class="back-to-main-menu"><i
                        class="fa-solid fa-chevron-left style"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;About</a></li>
            <li><a href="../about-us/">About us</a></li>
            <li><a href="../our-mission/">Our mission</a></li>
            <li><a href="../our-story/">Our story</a></li>
        </ul>
        <div class="social-media">
            <a href="https://www.linkedin.com/company/dablie-foundation/?viewAsMember=true"><i
                    class="fa-brands fa-linkedin-in"></i></a>
            <a href="https://x.com/dablieofficial"><i class="fa-brands fa-x-twitter"></i></a>
            <a href="https://tiktok.com/@DablieFoundation"><i class="fa-brands fa-tiktok"></i></a>
            <a href="https://www.facebook.com/people/Dablie-Foundation/61563937820025/"><i
                    class="fa-brands fa-facebook-f"></i></a>
            <a href="https://t.me/dabliefoundation"><i class="fa-brands fa-telegram"></i></a>
        </div>
    </nav>

    <main>
        <section id="individualFormSection" class="membership-form-section">
            <h2>Individual Membership Form</h2>
            <form id="individualForm" action="submit_individual.js" method="post" novalidate>
                <label for="first-name">First name <span class="required">*</span></label>
                <input type="text" id="first-name" name="first-name" required>
                <div class="error-message" id="first-name-error"></div>

                <label for="last-name">Last name <span class="required">*</span></label>
                <input type="text" id="last-name" name="last-name" required>
                <div class="error-message" id="last-name-error"></div>

                <label for="email">Email address <span class="required">*</span></label>
                <input type="email" id="email" name="email" required>
                <div class="error-message" id="email-error"></div>

                <label for="phone-number">Phone Number <span class="required">*</span></label>
                <div class="phone-input-container" style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <select id="primary-area-code" name="primary-area-code" required>
                        <option value="">Select Area Code</option>
                        <option value="+1">+1 (USA, Canada)</option>
                        <option value="+44">+44 (UK)</option>
                        <option value="+61">+61 (Australia)</option>
                        <option value="+81">+81 (Japan)</option>
                        <option value="+91">+91 (India)</option>
                        <option value="+251">+251 (Ethiopia)</option>
                        <!-- Add more area codes as needed -->
                    </select>
                    <input type="tel" id="phone-number" name="phone-number" required pattern="[0-9]{9}">
                </div>
                <div class="error-message" id="phone-number-error"></div>

                <label for="occupation">Occupation <span class="required">*</span></label>
                <input type="text" id="occupation" name="occupation" required>
                <div class="error-message" id="occupation-error"></div>

                <label for="city">City <span class="required">*</span></label>
                <input type="text" id="city" name="city" required>
                <div class="error-message" id="city-error"></div>

                <label for="state">State/Region <span class="required">*</span></label>
                <input type="text" id="state" name="state" required>
                <div class="error-message" id="state-error"></div>

                <label for="country">Country <span class="required">*</span></label>
                <input type="text" id="country" name="country" required>
                <div class="error-message" id="country-error"></div>

                <label for="reasons">Briefly describe your reasons for joining the Dabile Foundation</label>
                <textarea id="reasons" name="reasons"></textarea>

                <label for="how-heard">How did you hear about the Dabile Foundation?</label>
                <textarea id="how-heard" name="how-heard"></textarea>

                <label for="interest">What are your interest in joining the Foundation?</label>
                <textarea id="interest" name="interest"></textarea>

                <label for="skills">What skills or experience can you contribute?</label>
                <textarea id="skills" name="skills"></textarea>
                <div class="agreement">
                    <p>By submitting this form, you agree to abide by the Dabile Foundation's terms and conditions of membership. You also acknowledge that we may use your contact information to keep you informed about our activities and events.</p>
                    <p>Please review your application carefully before submitting it. You can click "Clear" to start over or "Submit" to send your application. Thank you for your interest in the Dabile Foundation!</p>
                </div>
    
                <div class="buttons">
                    <button type="reset" class="clear-btn">Clear</button>
                    <button type="submit">Submit</button>
                </div>
            </form>
        </section>
    </main>
    
    <div id="footer"></div>
    <div data-include="../Header & Footer/footer.html"></div>
    
    <script src="../Header & Footer/include.js"></script>
    <script src="../Header & Footer/header.js"></script>
    <script src="./Membership.js"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            includeHTML();
        });
    
        function includeHTML() {
            let z, i, elmnt, file, xhttp;
            z = document.querySelectorAll("[data-include]");
            for (i = 0; i < z.length; i++) {
                elmnt = z[i];
                file = elmnt.getAttribute("data-include");
                if (file) {
                    xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4) {
                            if (this.status == 200) { elmnt.innerHTML = this.responseText; }
                            if (this.status == 404) { elmnt.innerHTML = "Page not found."; }
                            elmnt.removeAttribute("data-include");
                            includeHTML();
                        }
                    }
                    xhttp.open("GET", file, true);
                    xhttp.send();
                    return;
                }
            }
        }
    
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('form').addEventListener('submit', function(event) {
                event.preventDefault();
    
                const formData = new FormData(event.target);
    
                const data = {
                    first_name: formData.get('first-name'),
                    last_name: formData.get('last-name'),
                    email: formData.get('email'),
                    primary_area_code: formData.get('primary-area-code'),
                    phone: formData.get('phone-number'),
                    occupation: formData.get('occupation'),
                    city: formData.get('city'),
                    state: formData.get('state'),
                    country: formData.get('country'),
                    reasons: formData.get('reasons'),
                    how_heard: formData.get('how-heard'),
                    interest: formData.get('interest'),
                    skills: formData.get('skills')
                };
    
                const apiUrl = 'http://64.112.124.78:8000/individual_membership_form';
                const urlWithQuery = `${apiUrl}?${new URLSearchParams(data).toString()}`;
    
                fetch(urlWithQuery, {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(response => response.json())
                .then(responseData => {
                    console.log(responseData);
                    if (responseData.status === 'success') {
                        alert('Form submitted successfully! Thank You!!!');
                        document.querySelector('form').reset();
                        window.location.href = '../index.html';
                    } else {
                        alert('There was an error submitting the form. Please try again.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('There was an error submitting the form. Please try again.');
                });
            });
        });
    </script>
    </body>
    </html>