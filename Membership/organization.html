<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membership - Dablie Foundation</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="./form.css">
    <link rel="stylesheet" href="../Header & Footer/header.css">
    <link rel="stylesheet" href="../Header & Footer/footer.css">
    <link rel="icon" type="image/x-icon" href="./HomePage/images/Dablie_logo.png">
</head>
<body>
    <div data-include="../Header & Footer/header.html"></div>
    <header>
        <div class="logo">
            <a href="../index.html"><img src="../leadership page/assests/images/logo.png" alt="Dablie Foundation Logo"></a>
        </div>
        <nav class="navbar">
            <ul>
                <li><a href="../About_us/about_us.html">About</a></li>
                <li><a href="#">Our Program <i class="fa fa-chevron-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="../Leadership/Leadership.html">Leadership Program</a></li>
                        <li><a href="../Scholarship/Scholarship.html">Scholarship Program</a></li>
                        <li><a href="../Economic_Empowerment/economic.html">Economic Empowerment</a></li>
                        <li><a href="../Business/business.html">Dablie Business Forum</a></li>
                        <!-- <li><a href="../Partners_Directory/partners.html">Partners Directory</a></li> -->
                        <li><a href="../YouthPage/YouthPage.html">Youth Program</a></li>
                        <li><a href="../Other/other.html">Other Programs</a></li>
                    </ul>
                </li>
                <li><a href="../Events/events.html">Events</a></li>
                <li><a href="../Stories/stories.html">Stories</a></li>
            </ul>
        </nav>
        <div class="join-us-button">
            <a href="../Membership/membership.html">Join <img src="../HomePage/images/hands.png" alt="Hand Icon" class="icon"> </a>
        </div>
        <div class="donate-button">
            <a href="https://chapa.link/donation/view/DN-VH06Xca2dDRW">Donate <img src="../HomePage/images/heart.png" alt="heart Icon" class="icon-2"></a>
        </div>
        <div class="hamburger-menu-container">
            <div class="menu-wrapper">
                <p class="menu-btn"></p>
                <p class="menu-btn-middle"></p> <!-- Added middle line -->
            </div>
        </div>
    </header>
    <nav class="menu-overlay">
        <ul class="main-menu">
            <li><a href="../About_us/about_us.html">About</a></li>
            <li><a href="#" class="submenu-toggle">Our Programs<span class="icon-container marginit"><i class="fa-solid fa-chevron-right "></i></span></a></li>
            <li><a href="../Events/events.html">Events</a></li>
            <li><a href="../Stories/stories.html">Stories</a></li>
            <li class="buttons-container">
                <div class="join-us-button1"><a href="../Membership/membership.html">Join <img src="../HomePage/images/hands.png" alt="Hand Icon" class="icon"></a></div>
                <div class="button"><a href="https://chapa.link/donation/view/DN-VH06Xca2dDRW">Donate <img src="../HomePage/images/heart.png" alt="heart Icon" class="icon-2"> </a></div>
            </li>
        </ul>
        <ul class="submenu">
            <li><a href="#" class="back-to-main-menu"><i class="fa-solid fa-chevron-left style"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Our Programs</a></li>
            <li><a href="../Leadership/Leadership.html">Leadership Program</a></li>
            <li><a href="../Scholarship/Scholarship.html">Scholarship Program</a></li>
            <li><a href="../Economic_Empowerment/economic.html">Economic Empowerment</a></li>
            <li><a href="../Business/business.html">Dablie Business Forum</a></li>
            <!-- <li><a href="../Partners_Directory/partners.html">Partners Directory</a></li> -->
            <li><a href="../YouthPage/YouthPage.html">Youth Program</a></li>
            <li><a href="../Other/other.html">Other Programs</a></li>
        </ul>
        <div class="social-media">
            <a href="https://www.linkedin.com/company/dablie-foundation/?viewAsMember=true"><i class="fa-brands fa-linkedin-in"></i></a>
                <a href="#"><i class="fa-brands fa-x-twitter"></i></a>
                <a href="#"><i class="fa-brands fa-tiktok"></i></a>
                <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                <a href="#"><i class="fa-brands fa-telegram"></i></a>
        </div>
    </nav>
    <main>
        <section id="organizationFormSection" class="membership-form-section">
            <h2>Organizational Membership Form</h2>
            <form id="organizationalForm" method="post" novalidate>
                <label for="organization-name">Organization name <span class="required">*</span></label>
                <input type="text" id="organization-name" name="organization-name" required>
                <div class="error-message" id="organization-name-error"></div>
                <label for="website-url">Website URL</label>
                <input type="url" id="website-url" name="website-url" pattern="https?://.+">
                <div class="error-message" id="website-url-error"></div>
                <label for="phone-number">Phone Number <span class="required">*</span></label>
                <div class="phone-input-container" style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <select id="primary-area-code" name="primary-area-code" required>
                        <option value="">Select Area Code</option>
                        <option value="+1">+1 (USA, Canada)</option>
                        <option value="+44">+44 (UK)</option>
                        <option value="+61">+61 (Australia)</option>
                        <option value="+81">+81 (Japan)</option>
                        <option value="+91">+91 (India)</option>
                        <option value="+251">+251 (Ethiopia)</option>
                        <!-- Add more area codes as needed -->
                    </select>
                    <input type="tel" id="phone-number" name="phone-number" required pattern="[0-9]{9}">
                </div>
                <div class="error-message" id="phone-number-error"></div>
                <label for="address">Address <span class="required">*</span></label>
                <input type="text" id="address" name="address" required>
                <div class="error-message" id="address-error"></div>
                <label for="city">City <span class="required">*</span></label>
                <input type="text" id="city" name="city" required>
                <div class="error-message" id="city-error"></div>
                <label for="state">State/Region <span class="required">*</span></label>
                <input type="text" id="state" name="state" required>
                <div class="error-message" id="state-error"></div>
                <label for="country">Country <span class="required">*</span></label>
                <input type="text" id="country" name="country" required>
                <div class="error-message" id="country-error"></div>
                <label for="primary-contact">Primary Contact Person <span class="required">*</span></label>
                <input type="text" id="primary-contact" name="primary-contact" required>
                <div class="error-message" id="primary-contact-error"></div>
                <label for="primary-email">Primary Contact Email <span class="required">*</span></label>
                <input type="email" id="primary-email" name="primary-email" required>
                <div class="error-message" id="primary-email-error"></div>
                <label for="primary-phone">Primary Contact Phone Number <span class="required">*</span></label>
                <div class="phone-input-container" style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <select id="primary-area-code" name="primary-area-code" required>
                        <option value="">Select Area Code</option>
                        <option value="+1">+1 (USA, Canada)</option>
                        <option value="+44">+44 (UK)</option>
                        <option value="+61">+61 (Australia)</option>
                        <option value="+81">+81 (Japan)</option>
                        <option value="+91">+91 (India)</option>
                        <option value="+251">+251 (Ethiopia)</option>
                        <!-- Add more area codes as needed -->
                    </select>
                    <input type="tel" id="phone-number" name="phone-number" required pattern="[0-9]{9}">
                </div>
                <div class="error-message" id="primary-phone-error"></div>
                <label for="organization-type">Organization Type <span class="required">*</span></label>
                <select id="organization-type" name="organization-type" required>
                    <option value="">Select Type</option>
                    <option value="non-profit">Non-Profit</option>
                    <option value="for-profit">For-Profit</option>
                    <option value="government">Government</option>
                    <option value="other">Other</option>
                </select>
                <div class="error-message" id="organization-type-error"></div>
                <label for="organization-size">What is the size of your organization? <span class="required">*</span></label>
                <select id="organization-size" name="organization-size" required>
                    <option value="">Select Size (Revenue)</option>
                    <option value="small"> < 10 million ETB</option>
                    <option value="medium"> 10 - 50 million ETB</option>
                    <option value="large"> > 50 million ETB</option>
                </select>
                <div class="error-message" id="organization-size-error"></div>
                <label for="number-of-employees">Number of Employees</label>
                <input type="number" id="number-of-employees" name="number-of-employees">
                <div class="error-message" id="number-of-employees-error"></div>
                <label for="industry">Industry <span class="required">*</span></label>
                <input type="text" id="industry" name="industry" required>
                <div class="error-message" id="industry-error"></div>
                <label for="mission-description">Briefly describe your organization's mission and activities</label>
                <textarea id="mission-description" name="mission-description"></textarea>
                <div class="error-message" id="mission-description-error"></div>
                <label for="empowerment-contribution">How does your organization contribute to the empowerment of the community?</label>
                <textarea id="empowerment-contribution" name="empowerment-contribution"></textarea>
                <div class="error-message" id="empowerment-contribution-error"></div>
                <label for="joining-reason">Why are you interested in joining the Dabile Foundation?</label>
                <textarea id="joining-reason" name="joining-reason"></textarea>
                <div class="error-message" id="joining-reason-error"></div>
                <label for="business-forum">Are you interested in applying for the Business Forum Membership option? (Yes/No)</label>
                <div class="radio-group">
                    <input type="radio" id="business-forum-yes" name="business-forum" value="yes" required>
                    <label for="business-forum-yes" class="radio-label">Yes</label>
                    <input type="radio" id="business-forum-no" name="business-forum" value="no">
                    <label for="business-forum-no" class="radio-label">No</label>
                </div>
                <div class="error-message" id="business-forum-error"></div>
                <label for="business-activities">Briefly describe your organization's business activities:</label>
                <textarea id="business-activities" name="business-activities"></textarea>
                <div class="error-message" id="business-activities-error"></div>
                <label for="partnership-goals">What are your organization's goals in partnering with the Dabile Foundation?</label>
                <textarea id="partnership-goals" name="partnership-goals"></textarea>
                <div class="error-message" id="partnership-goals-error"></div>
                <label for="financial-contribution">Are you willing to contribute financially to the Foundation's work? (Yes/No)</label>
                <div class="radio-group">
                    <input type="radio" id="financial-contribution-yes" name="financial-contribution" value="yes" required>
                    <label for="financial-contribution-yes" class="radio-label">Yes</label>
                    <input type="radio" id="financial-contribution-no" name="financial-contribution" value="no">
                    <label for="financial-contribution-no" class="radio-label">No</label>
                </div>
                <div class="error-message" id="financial-contribution-error”>
                    <label for="financial-level">If yes, please indicate your preferred level of financial contribution</label>
                    <textarea id="financial-level" name="financial-level"></textarea>
        
                    <div class="agreement">
                        By submitting this form, you agree to abide by the Dabile Foundation’s terms and conditions of membership. You also acknowledge that we may use your contact information to keep you informed about our activities and events.
                        Please review your application carefully before submitting it. You can click “Clear” to start over or “Submit” to send your application. Thank you for your interest in the Dabile Foundation!
                    </div>
                    <div class="buttons">
                        <button type="reset" class="clear-btn">Clear</button>
                        <button type="submit">Submit</button>
                    </div>
                </form>
            </section>
        </main>
        
        <div id="footer"></div>
        <div data-include="../Header & Footer/footer.html"></div>
    
    <script src="../Header & Footer/include.js"></script>
    <script src="../Header & Footer/header.js"></script>
        <script src="./Membership.js"></script>
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                includeHTML();
                document.querySelector('#organizationalForm').addEventListener('submit', function(event) {
                    event.preventDefault();
        
                    // Validate form
                    const form = event.target;
                    const formData = new FormData(form);
                    let isValid = true;
        
                    // Clear previous error messages
                    document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
        
                    // Custom validation logic
                    if (!formData.get('organization-name')) {
                        document.getElementById('organization-name-error').textContent = 'Organization name is required.';
                        isValid = false;
                    }
                    if (!formData.get('primary-area-code')) {
                        document.getElementById('phone-number-error').textContent = 'Area code is required.';
                        isValid = false;
                    }
                    if (!formData.get('phone-number')) {
                        document.getElementById('phone-number-error').textContent = 'Phone number is required.';
                        isValid = false;
                    }
                    if (!formData.get('address')) {
                        document.getElementById('address-error').textContent = 'Address is required.';
                        isValid = false;
                    }
                    if (!formData.get('city')) {
                        document.getElementById('city-error').textContent = 'City is required.';
                        isValid = false;
                    }
                    if (!formData.get('state')) {
                        document.getElementById('state-error').textContent = 'State/Region is required.';
                        isValid = false;
                    }
                    if (!formData.get('country')) {
                        document.getElementById('country-error').textContent = 'Country is required.';
                        isValid = false;
                    }
                    if (!formData.get('primary-contact')) {
                        document.getElementById('primary-contact-error').textContent = 'Primary contact person is required.';
                        isValid = false;
                    }
                    if (!formData.get('primary-email')) {
                        document.getElementById('primary-email-error').textContent = 'Primary contact email is required.';
                        isValid = false;
                    }
                    if (!formData.get('primary-area-code') || !formData.get('phone-number')) {
                        document.getElementById('primary-phone-error').textContent = 'Primary contact phone number is required.';
                        isValid = false;
                    }
                    if (!formData.get('organization-type')) {
                        document.getElementById('organization-type-error').textContent = 'Organization type is required.';
                        isValid = false;
                    }
                    if (!formData.get('organization-size')) {
                        document.getElementById('organization-size-error').textContent = 'Organization size is required.';
                        isValid = false;
                    }
                    if (!formData.get('industry')) {
                        document.getElementById('industry-error').textContent = 'Industry is required.';
                        isValid = false;
                    }
        
                    if (!isValid) {
                        return;
                    }
        
                    const data = {
                        organization_name: formData.get('organization-name'),
                        website_url: formData.get('website-url') || null,
                        area_code: formData.get('primary-area-code'),
                        phone: formData.get('phone-number'),
                        address: formData.get('address'),
                        city: formData.get('city'),
                        state: formData.get('state'),
                        country: formData.get('country'),
                        primary_contact_person: formData.get('primary-contact'),
                        primary_contact_email: formData.get('primary-email'),
                        primary_contact_phone: formData.get('phone-number'),
                        organization_type: formData.get('organization-type'),
                        size_of_organization: formData.get('organization-size'),
                        number_of_employees: formData.get('number-of-employees') || null,
                        industry: formData.get('industry'),
                        mission_and_activities: formData.get('mission-description') || null,
                        contribute_to_empowerment: formData.get('empowerment-contribution') || null,
                        interest_in_joining: formData.get('joining-reason') || null,
                        interest_in_business_forum: formData.get('business-forum') || null,
                        business_activities: formData.get('business-activities') || null,
                        goal_of_partnership: formData.get('partnership-goals') || null,
                        contribute_financially: formData.get('financial-contribution') || null,
                        level_of_financial_contribution: formData.get('financial-level') || null
                    };
        
                    console.log('Form data being sent:', data);
        
                    const apiUrl = 'http://64.112.124.78:8000/organization_membership_form';
        
                    fetch(apiUrl, {
                        method: 'POST',
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    })
                    .then(response => {
                        if (!response.ok) {
                            return response.json().then(errorData => {
                                throw new Error(`Server responded with ${response.status}: ${errorData.message}`);
                            });
                        }
                        return response.json();
                    })
                    .then(responseData => {
                        console.log(responseData);
                        alert('Form submitted successfully! Thank You!!!');
                        window.location.href = '../index.html';
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert(`Error: ${error.message}`);
                    });
                });
            });
        </script>
        </body>
        </html>